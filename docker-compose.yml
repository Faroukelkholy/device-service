version: '3'
services:
   device:
    container_name: device
    restart: always
    build: 
      dockerfile: Dockerfile
      context: .
    ports:
      - "8080:8080"
    volumes:
      - './:/home/device'
      - /home/device/node_modules/
    depends_on:
      - mongoDevice
   mongoDevice:
    container_name: mongoDevice
    restart: always
    image: mongo:4
    environment:
      - MONGO_INITDB_DATABASE=katulu
   mongo-seed:
    build: ./src/adapters/database/mongo/
    links:
      - mongoDevice
